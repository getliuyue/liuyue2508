(function(e){function t(t){for(var r,n,i=t[0],l=t[1],d=t[2],u=0,b=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&b.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(b.length)b.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("3ebb"),s=a.n(r);s.a},"3ebb":function(e,t,a){var r=a("e31a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("499e").default;s("517436b3",r,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,a){"use strict";a.r(t);a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=a("5c96"),o=a.n(s),n=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),i=[],l={data:function(){return{fuck_loading:!1}}},d=l,c=(a("034f"),a("2877")),u=Object(c["a"])(d,n,i,!1,null,null,null),b=u.exports,_=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.fuck_loading,expression:"fuck_loading"}],attrs:{gutter:10}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.fuck_show,expression:"fuck_show"}]},[a("el-col",{attrs:{xs:0,sm:6,md:6,lg:6,xl:6}},[a("div",{staticStyle:{color:"white"}},[e._v("你看不到我")])]),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("订单信息（请核对后下拉页面选择课程）")])]),a("div",[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.bd_username,callback:function(t){e.bd_username=t},expression:"bd_username"}},[a("template",{slot:"prepend"},[e._v("登录账号")])],2),a("br"),a("br"),a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.bd_password,callback:function(t){e.bd_password=t},expression:"bd_password"}},[a("template",{slot:"prepend"},[e._v("登录密码")])],2),a("br"),a("br"),a("el-input",{attrs:{placeholder:"请输入学校"},model:{value:e.bd_school,callback:function(t){e.bd_school=t},expression:"bd_school"}},[a("template",{slot:"prepend"},[e._v("学校名称")])],2),a("br"),a("br"),a("el-input",{attrs:{placeholder:"份数",disabled:!0},model:{value:e.bd_num,callback:function(t){e.bd_num=t},expression:"bd_num"}},[a("template",{slot:"prepend"},[e._v("下单份数")])],2),a("br"),a("br"),a("el-input",{attrs:{placeholder:"商品类型",disabled:!0},model:{value:e.bd_type,callback:function(t){e.bd_type=t},expression:"bd_type"}},[a("template",{slot:"prepend"},[e._v("应用类型")])],2),a("br"),a("br"),a("el-input",{attrs:{placeholder:"错误原因",disabled:!0},model:{value:e.bd_error,callback:function(t){e.bd_error=t},expression:"bd_error"}},[a("template",{slot:"prepend"},[e._v("错误原因")])],2),a("br"),a("br"),a("el-input",{directives:[{name:"show",rawName:"v-show",value:""!=e.bd_user_data,expression:"bd_user_data!=''"}],attrs:{type:"textarea",rows:"5",placeholder:"课程名称"},model:{value:e.bd_user_data,callback:function(t){e.bd_user_data=t},expression:"bd_user_data"}},[a("template",{slot:"prepend"},[e._v("课程名称")])],2),a("br"),a("br"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-search",loading:e.bd_ke_loading},on:{click:function(t){return e.submit_ke(1)}}},[e._v("查询课程列表-接口① "+e._s(e.bd_timetips))]),a("br"),a("br"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-search",loading:e.bd_ke_loading2},on:{click:function(t){return e.submit_ke(2)}}},[e._v("查询课程列表-接口② "+e._s(e.bd_timetips))]),a("br"),a("br"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-search",loading:e.bd_hq_loading},on:{click:e.submit_school}},[e._v("学校名错误点这里自动校正")]),a("br")],1)])],1),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("课程列表（提交按钮在最下面）")])]),a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.bd_tableData,"tooltip-effect":"dark",stripe:!0,size:"mini"},on:{"row-click":e.fuck_checkbox,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"课程名称",width:"120"}}),a("el-table-column",{attrs:{prop:"jd",label:"剩余进度",width:"120"}}),a("el-table-column",{attrs:{prop:"kk",label:"课程开始",width:"120"}}),a("el-table-column",{attrs:{prop:"kj",label:"课程结束",width:"120"}})],1),a("br"),a("br"),a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.bd_buy_loading},on:{click:e.submit_buy}},[e._v("提交")])],1)])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.fuck_show,expression:"!fuck_show"}]},[a("el-col",{attrs:{xs:0,sm:8,md:8,lg:8,xl:8}},[a("div",{staticStyle:{width:"1px",color:"white"}},[e._v("被你发现了嘻嘻")])]),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("网课自助售后查询")])]),a("el-form",{ref:"query",attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"网课账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"学号或手机号 (下单时填的啥这里就填啥)"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",round:"",loading:e.loading},on:{click:e.submit}},[e._v(e._s(e.msg))]),a("br"),a("br")],1)],1)],1),e.show?a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("学生信息（请核对后是本人再继续操作）")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:"80",prop:"sname",label:"学生姓名"}}),a("el-table-column",{attrs:{prop:"username",label:"网课账号"}}),a("el-table-column",{attrs:{prop:"school",label:"学校名称"}})],1)],1):e._e(),e.show?a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("订单信息(补单请单击课程名展开)")])]),a("el-collapse",e._l(e.tree,(function(t,r){return a("el-collapse-item",{attrs:{name:r}},[a("template",{slot:"title"},[e._v(" [课程] "+e._s(t.label)+" ")]),a("div",[e._v(" 课程名称："+e._s(t.label)+" "),a("br"),e._v(" 下单时间："+e._s(t.pay_time)+" "),a("br"),e._v(" 完成时间："+e._s(t.complete_time)+" "),a("br"),e._v(" 课程开始时间："+e._s(t.course_start_time)+" "),a("br"),e._v(" 课程结束时间："+e._s(t.course_end_time)+" "),a("br"),e._v(" 考试开始时间："+e._s(t.exam_start_time)+" "),a("br"),e._v(" 考试结束时间："+e._s(t.exam_end_time)+" "),a("br"),e._v(" 考试状态："+e._s(t.examState)+" ")]),e._v(" 课程进度： "),t.jd<100?a("div",[a("el-progress",{attrs:{percentage:t.jd}})],1):a("div",[a("el-progress",{attrs:{percentage:t.jd,status:"success"}})],1),a("div",[e._v("是否补单："),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.fuck(t.id,t.type)}}},[e._v("提交")])],1)],2)})),1)],1):e._e()],1)],1)])],1)},p=[],h=(a("4160"),a("b0c0"),a("159b"),{data:function(){return{a:"",item:[],tree:[],ruleForm:{username:null},loading:!1,msg:"查询信息",show:!1,fuck_show:!1,tableData:[{sname:null,username:null,school:null}],defaultProps:{children:"children",label:"label"},activeNames:null,radio:"1",fuck_loading:!1,bd_username:"",bd_password:"",bd_school:"",bd_num:"",bd_type:"",bd_error:"",bd_user_data:"",bd_orderid:"",bd_tree:[],bd_item:[],bd_loading:!1,bd_ke_loading:!1,bd_ke_loading2:!1,bd_buy_loading:!1,bd_tui_loading:!1,bd_hq_loading:!1,bd_msg:"查询信息",bd_show:!1,bd_kes:[],bd_tableData:[],bd_fucks:[],bd_admin_data:[],bd_state1:"",bd_timetips:"",bd_timefuck:0,xz:0}},methods:{fuck_checkbox:function(e){this.$refs.multipleTable.toggleRowSelection(this.bd_tableData[e.key])},submit_school:function(){var e=this;this.bd_hq_loading=!0,this.$axios.get("//mhw.di1314.cn/ajax.php?act=school&school="+this.bd_school).then((function(e){return e.data})).then((function(t){e.bd_hq_loading=!1,0==t.code||1==t.code?(e.$message.success("获取成功："+t.school+" "+t.msg),e.bd_school=t.school):e.$alert("获取到原学校信息："+t.school+" "+t.msg)})).catch((function(){e.buy_loading=!1,e.$alert("提交错误，请换个时间再试")}))},submit_buy:function(){var e=this;this.bd_buy_loading=!0,this.bd_admin_data.obj.checkedCourseList=[],this.bd_fucks.forEach((function(t){e.bd_admin_data.obj.checkedCourseList.push(t)})),this.bd_fucks=[],this.$axios.post("//mhw.di1314.cn/ajax.php?act=order_pay","body="+encodeURIComponent(JSON.stringify(this.bd_admin_data.obj))+"&orderid="+encodeURIComponent(this.bd_orderid)).then((function(e){return e.data})).then((function(t){e.bd_buy_loading=!1,0==t.code?(e.$message.success(t.msg+" 正在为您查询订单记录"),setTimeout((function(){e.bd_username="",e.bd_password="",e.bd_school="",e.bd_num="",e.bd_type="",e.bd_error="",e.bd_user_data="",e.bd_orderid="",e.bd_tableData=[],e.submit(),e.fuck_show=!1}),300)):e.$message.error(t.msg?t.msg:"下单失败，原因未知")})).catch((function(){e.bd_buy_loading=!1,e.$alert("提交错误，请换个时间再试")}))},handleSelectionChange:function(e){var t=this;if(e){if(this.bd_fucks=[],this.bd_num<e.length)return this.xz=1,e.forEach((function(a,r){r+1==e.length&&t.$refs.multipleTable.toggleRowSelection(a)})),this.$alert("你没有下单这么多"),!1;this.xz=0,e.forEach((function(e){t.bd_fucks.push(e.fuck)})),e.length==this.bd_num&&1==this.fuck_show&&this.$confirm("检测到您可能已经选择完成，是否直接提交？","温馨提示",{confirmButtonText:"好",cancelButtonText:"不了",type:"success"}).then((function(){t.submit_buy()})).catch((function(){}))}else this.bd_fucks=[]},submit_ke:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.bd_timefuck=0,this.bd_time_out(),this.bd_ke_loading=!0,this.bd_ke_loading2=!0,this.$axios.post("//mhw.di1314.cn/ajax.php?act=query_ke&type="+t,"orderid="+this.bd_orderid+"&school="+this.bd_school+"&account="+this.bd_username+"&password="+this.bd_password).then((function(e){return e.data})).then((function(t){e.bd_timefuck=1,e.bd_ke_loading=!1,e.bd_ke_loading2=!1,e.bd_tableData=[],1==t.obj.status?(e.bd_admin_data=t,e.bd_fuck_data=t.obj.courseList,t.obj.courseList.forEach((function(t,a){e.bd_tableData.push({key:a,name:(t.categoryName?t.categoryName+"-":"")+t.courseName,jd:t.chapterCount+"-"+t.unfinishedChapterCount,kk:t.courseStartTimeStr?t.courseStartTimeStr:"0000-00-00",kj:t.courseEndTimeStr?t.courseEndTimeStr:"0000-00-00",fuck:t})}))):e.$message.error(t.obj.msg)})).catch((function(){e.bd_buy_loading=!1,e.$message.error("提交错误，请换个时间再试")}))},bd_time_out:function(){var e=this,t=0,a=null;this.bd_timetips="[已过0秒]",a=setInterval((function(){t++,e.bd_timetips="[已过"+t+"秒]",1==e.bd_timefuck&&(clearInterval(a),e.bd_timetips="[用时"+t+"秒]")}),1e3)},fuck:function(e,t){var a=this;if(!e)return this.$message({message:"缺少参数！",center:!0,type:"error",duration:1e3}),!1;this.fuck_loading=!0,fetch("//mhw.di1314.cn/ajax.php?act=fill",{method:"POST",body:JSON.stringify({id:e,type:t,username:this.ruleForm.username})}).then((function(e){return e.json()})).then((function(e){a.fuck_loading=!1,0===e.code?a.$message({message:e.msg,center:!0,type:"success",duration:5e3}):a.$message({message:e.msg,center:!0,type:"error",duration:5e3})})).catch((function(){a.buy_loading=!1,a.$alert("提交错误，请换个时间再试")}))},submit:function(e){var t=this,a=this.ruleForm.username;if(!a)return this.$message({message:"请先输入网课账号再查询",center:!0,type:"error",duration:1e3}),!1;this.tableData[0].sname=null,this.tableData[0].username=null,this.tableData[0].school=null,this.msg="查询中..",this.loading=!0,this.$axios.post("//mhw.di1314.cn/ajax.php?act=order_query","account="+this.ruleForm.username).then((function(e){return e.data})).then((function(e){e[0]?(t.$alert("您有需要人工处理的订单，已为您跳转至操作页面"),t.bd_username=e[0].account,t.bd_password=e[0].password,t.bd_num=e[0].end_num,t.bd_school=e[0].school,t.bd_type=e[0].type,t.bd_user_data=e[0].user_data,t.bd_orderid=e[0].orderid,t.bd_error=e[0].error?e[0].error:"无",e[0].admin_data=e[0].admin_data?JSON.parse(e[0].admin_data):"",1==e[0].admin_data.success&&(t.bd_admin_data=e[0].admin_data,t.bd_fuck_data=e[0].admin_data.obj.courseList,console.log(e[0].admin_data.obj.courseList),t.bd_username&&!e[0].admin_data.obj.courseList[0]&&t.submit_ke(),e[0].admin_data.obj.courseList.forEach((function(e,a){t.bd_tableData.push({key:a,name:(e.categoryName?e.categoryName+"-":"")+e.courseName,jd:e.chapterCount+"-"+e.unfinishedChapterCount,kk:e.courseStartTimeStr?e.courseStartTimeStr:"0000-00-00",kj:e.courseEndTimeStr?e.courseEndTimeStr:"0000-00-00",fuck:e})}))),setTimeout((function(){t.fuck_show=!0}),500)):fetch("//mhw.di1314.cn/ajax.php?act=query",{method:"POST",body:JSON.stringify({username:t.ruleForm.username})}).then((function(e){return e.json()})).then((function(e){if(e[0]){t.show=!0,t.tableData[0].sname=e[0].sname,t.tableData[0].username=e[0].account,t.tableData[0].school=e[0].school;for(var a=[],r=0;r<e.length;r++)a.push(e[r]);var s=[];a.forEach((function(e,t){var a=[];a.type=e.type,a.id=e.id,a.label=e.name,a.pay_time=e.pay_time,a.complete_time=e.complete_time,a.course_end_time=e.course_end_time,a.course_start_time=e.course_start_time,a.exam_start_time="0000-00-00 00:00:00"==e.exam_start_time?"未开始":e.exam_start_time,a.exam_end_time="0000-00-00 00:00:00"==e.exam_end_time?"未开始":e.exam_end_time,a.jd=e.jd,a.test=e.jd<100?"":"status",a.examState=e.examState,s[t]=a})),t.tree=s}else t.$message({message:e.message?e.message:"未找到该账号的下单记录",center:!0,type:"error"});t.loading=!1,t.msg="查询信息"}))})).catch((function(){t.buy_loading=!1,t.$alert("提交错误，请换个时间再试")}))}}}),f=h,g=Object(c["a"])(f,m,p,!1,null,null,null),v=g.exports;r["default"].use(_["a"]);var y=[{path:"/",name:"Home",component:v,meta:{title:"网课自助售后系统"}}],k=new _["a"]({routes:y}),x=k,w=a("2f62");r["default"].use(w["a"]);var S=new w["a"].Store({state:{},mutations:{},actions:{},modules:{}}),j=a("bc3a"),$=a.n(j);r["default"].config.productionTip=!1,x.beforeEach((function(e,t,a){e.meta.title&&(document.title=e.meta.title),a()})),r["default"].use(o.a),$.a.interceptors.response.use((function(e){return e}),(function(e){return console.log(e.response.status),Promise.reject(e.response)})),r["default"].prototype.$axios=$.a,new r["default"]({router:x,store:S,el:"#app",render:function(e){return e(b)}})},e31a:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,"@media screen and (max-width:750px){.el-message-box{width:85%!important}}",""]),e.exports=t}});